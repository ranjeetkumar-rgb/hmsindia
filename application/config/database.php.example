<?php
defined('BASEPATH') OR exit('No direct script access allowed');

/*
|--------------------------------------------------------------------------
| Database Configuration
|--------------------------------------------------------------------------
|
| This file contains the database configuration for different environments.
| Copy this file to database.php and update the settings for your environment.
|
*/

// Get environment from environment variable or default to development
$environment = getenv('ENVIRONMENT') ?: 'development';

switch ($environment) {
    case 'production':
        // Production database configuration
        $db['default']['hostname'] = getenv('DB_HOST') ?: 'localhost';
        $db['default']['username'] = getenv('DB_USER') ?: 'hmsuser';
        $db['default']['password'] = getenv('DB_PASSWORD') ?: 'hms123456';
        $db['default']['database'] = getenv('DB_NAME') ?: 'hmsindiaivf_prod';
        $db['default']['dbdriver'] = 'mysqli';
        $db['default']['dbprefix'] = '';
        $db['default']['pconnect'] = TRUE;
        $db['default']['db_debug'] = FALSE;
        $db['default']['cache_on'] = FALSE;
        $db['default']['cachedir'] = '';
        $db['default']['char_set'] = 'utf8';
        $db['default']['dbcollat'] = 'utf8_general_ci';
        $db['default']['swap_pre'] = '';
        $db['default']['autoinit'] = TRUE;
        $db['default']['stricton'] = FALSE;
        break;
        
    case 'development':
    default:
        // Development database configuration
        $db['default']['hostname'] = getenv('DB_HOST') ?: 'localhost';
        $db['default']['username'] = getenv('DB_USER') ?: 'root';
        $db['default']['password'] = getenv('DB_PASSWORD') ?: '';
        $db['default']['database'] = getenv('DB_NAME') ?: 'hmsindiaivf_dev';
        $db['default']['dbdriver'] = 'mysqli';
        $db['default']['dbprefix'] = '';
        $db['default']['pconnect'] = TRUE;
        $db['default']['db_debug'] = TRUE;
        $db['default']['cache_on'] = FALSE;
        $db['default']['cachedir'] = '';
        $db['default']['char_set'] = 'utf8';
        $db['default']['dbcollat'] = 'utf8_general_ci';
        $db['default']['swap_pre'] = '';
        $db['default']['autoinit'] = TRUE;
        $db['default']['stricton'] = FALSE;
        break;
}
